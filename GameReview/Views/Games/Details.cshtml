@model GameReview.Models.Review
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager


@{
    ViewData["Title"] = "詳細";
}

<h1></h1>

<div class="container bg-light">
    <div class="row">
        <img id="thumbnail" src="@Html.DisplayFor(model => model.Game.ImagePath)" class="img-thumbnail col-lg-4 col-sm-6">

        <h4 class="col-lg-4 col-sm-6">

            @Html.DisplayFor(model => model.Game.Title)

        </h4>


        <div class="col-lg-4 order-lg-3 order-lg-3">
            <div class="row">
                <div class="col-lg-6 col-sm-4">

                    <dl>
                        <dt>
                            @Html.DisplayNameFor(model => model.created_at)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.created_at)
                        </dd>
                    </dl>
                </div>
                <div class="col-lg-6 col-sm-4">

                    <dl>
                        <dt>
                            @Html.DisplayNameFor(model => model.updated_at)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.updated_at)
                        </dd>
                    </dl>
                </div>



                <dl class="col-lg-12 col-sm-4">
                    <dt>
                        @Html.DisplayNameFor(model => model.Grade)
                    </dt>
                    <dd>
                        @Html.DisplayFor(model => model.Grade)
                    </dd>

                </dl>

                <dl class="col-lg-12">
                    <dt>
                        @Html.DisplayNameFor(model => model.Summary)
                    </dt>
                    <dd>
                        @Html.DisplayFor(model => model.Summary)
                    </dd>

                </dl>
            </div>
        </div>
    </div>

    <hr />

    <div class="row">

        <dl class="col-sm-4">

            <dt class="">
                @Html.DisplayNameFor(model => model.Game.Developer)
            </dt>
            <dd class="">
                @Html.DisplayFor(model => model.Game.Developer)
            </dd>
            <dt class="">
                @Html.DisplayNameFor(model => model.Game.Publisher)
            </dt>
            <dd class="">
                @Html.DisplayFor(model => model.Game.Publisher)
            </dd>
            <dt class="">
                @Html.DisplayNameFor(model => model.Game.ReleaseDate)
            </dt>
            <dd class="">
                @Html.DisplayFor(model => model.Game.ReleaseDate)
            </dd>





        </dl>

        <div class="col-md-4 mb-2">
            <div class="card border-success h-100 ">
                <div class="card-header">@Html.DisplayNameFor(model => model.ProsPoints)</div>
                <div class="card-body text-success">
                    <div class="card-text">
                        @Html.Raw(Model.ProsPoints)
                    </div>
                </div>

            </div>
        </div>

        <div class="col-md-4  mb-2">
            <div class="card border-danger h-100">
                <div class="card-header">@Html.DisplayNameFor(model => model.ConsPoints)</div>
                <div class="card-body text-danger">
                    <div class="card-text">
                        @Html.Raw(Model.ConsPoints)
                    </div>
                </div>

            </div>

        </div>



    </div>

    <div class="m-2">
        <div class="card border-primary">
            <div class="card-header">@Html.DisplayNameFor(model => model.Comment)</div>
            <div class="card-body">
                <div class="card-text">
                    @Html.Raw(Model.Comment)
                </div>
            </div>

        </div>

    </div>


    <div class="pb-2">
        @if (SignInManager.IsSignedIn(User))
        {
            <a class="btn btn-primary" asp-action="Edit" asp-route-id="@Model.GameID">Edit</a> <text>|</text>
        }
        <a class="btn btn-secondary" asp-action="Index">Back to List</a>
    </div>


    <script>

        window.onload = function () {
            changeBGImage("@Model.Game.ImagePath?.ToString().Replace('\\','/')");
        };
        
    </script>
